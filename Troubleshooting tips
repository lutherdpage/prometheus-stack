# ğŸš§ Troubleshooting Tips for Prometheus Monitoring Stack

Use these common troubleshooting steps when debugging issues in your Prometheus + Grafana setup.

---

## ğŸ” Containers Not Starting

* **Run:** `docker compose ps`
* Check for containers in `Exited` state.
* View logs: `docker logs <container_name>`
* Fix YAML formatting issues (most common cause).

---

## ğŸŒ Cannot Access Prometheus at [http://localhost:9090](http://localhost:9090)

* Make sure Prometheus container is running.
* Ensure ports are not blocked:

  ```powershell
  netstat -ano | findstr :9090
  ```
* If another process is using port 9090, update the port mapping in `docker-compose.yml`.

---

## ğŸ“¡ Prometheus Shows "No Data" or Missing Targets

* Check Prometheus targets page:

  * [http://localhost:9090/targets](http://localhost:9090/targets)
* Ensure your `prometheus.yml` contains the correct internal service names:

  ```yaml
  - job_name: node_exporter
    static_configs:
      - targets: ["node_exporter:9100"]
  ```
* Restart Prometheus:

  ```powershell
  docker compose restart prometheus
  ```

---

## ğŸ“Š Grafana Data Source Not Working

* Verify Prometheus is reachable from Grafana:

  * In Grafana â†’ Data Sources â†’ Test & Save
* Ensure URL is **[http://prometheus:9090](http://prometheus:9090)**, *not localhost*.
* Restart Grafana if needed:

  ```powershell
  docker compose restart grafana
  ```

---

## ğŸ›‘ cadvisor Not Working / Port 8081 Not Loading

* cAdvisor often fails on Windows due to missing Linux cgroups.
* View logs:

  ```powershell
  docker logs cadvisor
  ```
* If you see:
  **"mountpoint for cpu not found"** â†’ cAdvisor cannot run on Windows.
* Fix: Move stack to WSL2 Linux or remove cAdvisor completely.

---

## ğŸš¨ Alerts Not Firing

* Verify alert rules loaded:

  * [http://localhost:9090/rules](http://localhost:9090/rules)
* Check syntax of `alert.rules.yml`.
* Reload Prometheus rules:

  ```powershell
  docker compose exec prometheus kill -HUP 1
  ```

---

## ğŸ”§ Docker Compose YAML Errors

* YAML requires strict indentation.
* Use **spaces only** (no tabs).
* Validate locally:

  ```powershell
  docker compose config
  ```

---

## ğŸ§¹ Remove Orphaned Containers

If old containers remain after updates:

```powershell
docker compose down --remove-orphans
```

---

## ğŸ§± Reset Entire Project

If everything breaks, reset with:

```powershell
docker compose down -v
```

Then rebuild:

```powershell
docker compose up -d
```
